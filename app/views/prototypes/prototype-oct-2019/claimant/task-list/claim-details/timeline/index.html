{% extends "layout_task-list.html" %}
{% block page_title %}
Money Claims Prototype
{% endblock %}
{% block home_link %} ../../task-list {% endblock %}
{% block proposition_header %}
{% set my_account="1" %}

{% include "includes/propositional_navigation.html" %}
{% endblock %}
{% block content %}
<main id="content" role="main">
  {% include "includes/phase_banner_beta.html" %}
  <div class="grid-row">
    <div class="column-full-width">
      <!--  <a href="#" onclick="history.go(-1)" class="link-back">Back</a>  -->
      {% if data.return_page and data.return_page.includes('check-and-send') or data.return_page and data.return_page.includes('check-your-answers')%}
       <form method="post" action="{{ data.return_page if data.return_page | length > 0 else '../task-list' }}" class="form">
        {% else %}
      <form method="post" action="evidence" class="form">
        {% endif %}
        {{formData | safe}}
        <h1 class="heading-large">
          Timeline of events
        </h1>

        <p>If you don't know the exact date, tell us the month and year.</p>


        <p class="bold-small">Example timeline</p>
        <ul class="list list-bullet">
          <li>12 January 2017 - John Smith gave me a quote to replace the roof.</li>
          <li>14 January 2017 - We agreed and signed a contract for the work.</li>
          <li>21 March 2017 - I noticed a leak on the landing and told Mr Smith about this.</li>
        </ul>

        <br>
    
        <fieldset>
          <legend class="visuallyhidden">
            Explain what happened
          </legend>
          <table id="myTable" class="govuk-table">

            <thead class="govuk-table__head">
            <tr class="govuk-table__row">
            
              <th scope="col" class="govuk-table__header" aria-sort="ascending"> Date
        
              <span class="form-hint">For example, {{ now | date('MMMM YYYY')}} </span></th>
            
              <th scope="col" class="govuk-table__header" aria-sort="none"> What happened
        
              <span class="form-hint">For example, you might have signed a contract</span></th>
            
              <th scope="col" class="govuk-table__header " aria-sort="none">Actions
                <span class="form-hint"> </span>

              </th>
             
            </tr>
            
            </thead>
            
            <tbody class="govuk-table__body">
            
            <tr class="govuk-table__row">
            
              <td class="govuk-table__cell">  <input class="form-control timeline-column-1" type="text" id="date-form-control" name="cd-date-1" value="{{data['cd-date-1']}}" onfocus=></td>
            
              <td class="govuk-table__cell " data-sort-value="1568847600000">  <textarea style="width: 90%;" class="timeline-column-text" name="cd-timeline-1" id="timeline-1" value="{{data['cd-timeline-1']}}"  rows="2">{{data['cd-timeline-1']}}</textarea></td>
            
              <td class="govuk-table__cell " data-sort-value="59"> 
                <ol>
                  <li>
                  <li><button type="button" class="link" name="cmdDeleteRow">Remove this event</button></li>
                
                  <br>
                  <li> <button type="button" class="link" name="cmdAddRow">Insert another event</button></li>
                </ol>
            </td>
            
            </tr>
            <tr class="govuk-table__row">
            
              <td class="govuk-table__cell">  <input class="form-control " type="text" id="date-form-control" name="cd-date-2" value="{{data['cd-date-2']}}" onfocus=></td>
            
              <td class="govuk-table__cell " data-sort-value="1568847600000">  <textarea style="width: 90%;" class="timeline-column-text" name="cd-timeline-2" id="timeline-2" value="{{data['cd-timeline-2']}}"  rows="2">{{data['cd-timeline-2']}}</textarea></td>
            
              <td class="govuk-table__cell " data-sort-value="59"> <ol>
                <li><a href="#">Remove this event</a></li>
                <br>
                <li><a href="#">Insert another event</a></li>
              </ol></td>
            
            </tr>
            <tr class="govuk-table__row">
            
              <td class="govuk-table__cell">  <input class="form-control " type="text" id="date-form-control" name="cd-date-3" value="{{data['cd-date-3']}}" onfocus=></td>
            
              <td class="govuk-table__cell " data-sort-value="1568847600000">  <textarea style="width: 90%;" class="timeline-column-text" name="cd-timeline-3" id="timeline-3" value="{{data['cd-timeline-3']}}"  rows="2">{{data['cd-timeline-3']}}</textarea></td>
            
              <td class="govuk-table__cell " data-sort-value="59"> <ol>
                <li><a href="#">Remove this event</a></li>
                <br>
                <li><a href="#">Insert another event</a></li>
              </ol></td>
            
            </tr>
            <tr class="govuk-table__row">
            
              <td class="govuk-table__cell">  <input class="form-control timeline-column-1" type="text" id="date-form-control" name="cd-date-4" value="{{data['cd-date-4']}}" onfocus=></td>
            
              <td class="govuk-table__cell " data-sort-value="1568847600000">  <textarea style="width: 90%;" class="timeline-column-text" name="cd-timeline-4" id="timeline-4" value="{{data['cd-timeline-4']}}"  rows="2">{{data['cd-timeline-4']}}</textarea></td>
            
              <td class="govuk-table__cell " data-sort-value="59"> <ol>
                <li><a href="#">Remove this event</a></li>
                <br>
                <li><a href="#">Insert another event</a></li>
              </ol></td>
            
            </tr>
            
           
            
            </tbody>
            </table> 
          <!-- <div id="timeline" class="timeline">
            <div class="timeline-headings">
              <div id="timeline-heading-1" class="timeline-column-1">
                <label class="form-label-bold" for="date-form-control">
                  Date
                </label>
                <span class="form-hint">For example, {{ now | date('MMMM YYYY')}} </span>
              </div>
              <div id="timeline-heading-2" class="timeline-column-2">
                <label class="form-label-bold" for="event-form-control">
                  What happened
                </label>
                <span class="form-hint">For example, you might have signed a contract</span>
              </div>
              <div id="timeline-heading-3" class="timeline-column-3">
                <label class="form-label-bold" for="event-form-control">
             Actions
                </label>
               
              </div>
            </div>
            <div class="timeline-rows">
              <div class="timeline-row">
                <input class="form-control timeline-column-1" type="text" id="date-form-control" name="cd-date-1" value="{{data['cd-date-1']}}" onfocus=>

                  <textarea class="timeline-column-text" name="cd-timeline-1" id="timeline-1" value="{{data['cd-timeline-1']}}"  rows="2">{{data['cd-timeline-1']}}</textarea>
                  <div class="timeline-controls">
                    <ol>
                      <li><a href="#">Remove this event</a></li>
                      <li><a href="#">Insert another event</a></li>
                    </ol>
                  </div>
              </div>
              <div class="timeline-row">
                <input class="form-control timeline-column-1" type="text" id="date-form-control" name="cd-date-2"
                       value="{{data['cd-date-2']}}">
                 <textarea class="timeline-column-text" name="cd-timeline-2"  value="{{data['cd-timeline-2']}}" rows="2"> {{data['cd-timeline-2']}}</textarea>
                  <div class="timeline-controls">
                    <ol>
                      <li><a href="#">Remove this event</a></li>
                      <li><a href="#">Insert another event</a></li>
                    </ol>
                  </div>
              </div>
              <div class="timeline-row">
                <input class="form-control timeline-column-1" type="text" id="date-form-control" name="cd-date-3"
                       value="{{data['cd-date-3']}}">
                 <textarea class="timeline-column-text" name="cd-timeline-3" value="{{data['cd-timeline-3']}}"  rows="2">{{data['cd-timeline-3']}}</textarea>
                  <div class="timeline-controls">
                    <ol>
                      <li><a href="#">Remove this event</a></li>
                      <li><a href="#">Insert another event</a></li>
                    </ol>
                  </div>
              </div>
              <div class="timeline-row">
                <input class="form-control timeline-column-1" type="text" id="date-form-control" name="cd-date-4"
                       value="{{data['cd-date-4']}}">
                   <textarea class="timeline-column-text" name="cd-timeline-4" value="{{data['cd-timeline-4']}}" rows="2">{{data['cd-timeline-4']}}</textarea>
                  <div class="timeline-controls">
                    <ol>
                      <li><a href="#">Remove this event</a></li>
                      <li><a href="#">Insert another event</a></li>
                    </ol>
                  </div>
              </div>
            </div>
          </div> -->
          <div id="add-event-container">
            <a class="secondary-button" id="add-another-event-button" href="#">Add another event</a>
          </div>
<!--           <div class="panel panel-border-wide">
            <p class="bold-small">Evidence</p>
            You don't need to provide evidence unless this claim is defended - we'll let you know if that happens and
            what evidence you need. You can, however, mention any evidence that you do have at this stage.
            </p>
          </div> -->
          <!-- <script>
            $(document).ready(function () {
              $('#add-another-event-button').click(function (event) {
                event.preventDefault();
                $('#timeline').append(
                  '<div class="timeline-row">' +
                  '<input class="form-control timeline-column-1" style="margin-right: 1px; margin-top: 10px; margin-right:10px" type="text">' +
                  '<textarea class="timeline-column-text" id="textarea-a" rows="2" style="margin-top: 10px; margin-left: 3px;"></textarea>' +
                  '</div>'
                );
              });
            });
          </script> -->
        </fieldset>
        <!--<details>-->
        <!--<summary>-->
        <!--<span class="summary">Specific assistance if needed (hide if not relevant)</span>-->
        <!--</summary>-->
        <!--<div class="panel panel-border-narrow">-->
        <!--<p>Contextual guidance goes here...</p>-->
        <!--</div>-->
        <!--</details>-->
      {% if data.return_page and data.return_page.includes('check-and-send') or data.return_page and data.return_page.includes('check-your-answers')%}
        <div class="form-group">
          <input type="submit" class="button" value="Save changes"/>
        </div>
        <a href="{{ data.return_page if data.return_page | length > 0 else '../task-list' }}">Cancel</a>
      {% else %}
        <div class="form-group">
          <input type="submit" class="button" value="Save and continue"/>
        </div>
      {% endif %}
      </form>
    </div>
  </div>
  {% block page_scripts %}
<script>
$('button[name="cmdAddRow"]').on('click', function(){
 
            $curRow = $(this).closest('tr');
            $newRow = $curRow.clone(true).attr('value','');
            $('#myTable tr:last input').val('')
            $('#myTable tr:last textarea').val('')
            $newRow.addClass( "rowcolor" );
            $newRow.find("input").val("").end();
            $newRow.find("textarea").val("").end();
            console.log($newRow);
            $curRow.after($newRow);
            console.log('added');
        });
  
        $('button[name="cmdDeleteRow"]').on('click', function(){
   $(this).closest('tr').remove()
})
  </script>
{% endblock %}

{% include 'prototypes/prototype-oct-2019/includes/contact.html' %}
</main>
{% endblock %}

