{% extends "layout_task-list.html" %}
{% block page_title %}
Money Claims Prototype
{% endblock %}
{% block proposition_header %}
{% set my_account="2" %}

{% include "includes/propositional_navigation.html" %}
{% endblock %}
{% block content %}
<main id="content" role="main">
  {% include "includes/phase_banner_beta.html" %}



  <div class="grid-row">
    <div class="">
      <a href="#" class="link-back">Back</a>

      <h1 class="heading-large">Add your timeline of events </h1>


      <div class="description-block">
        <h3 class="heading-small">Their timeline</h3>
        <div class="form-fields">
          <table>
            <thead>
              <tr>
                <th scope="col">Date</th>
                <th scope="col">What happened</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>03/11/2017</td>
                <td>I contacted {% if data.counterclaim=="true" %}Jan Clark{%else%}Mary Richards{% endif %} to discuss building works on our roof.</td>
              </tr>
              <tr>
                <td>06/11/2017</td>
                <td>We agreed what work should be done and signed a contract.</td>
              </tr>
              <tr>
                <td>30/11/2017</td>
                <td>The work started on the roof.</td>
              </tr>
              <tr class="show-more">
                <td>21/12/2017</td>
                <td>The work on the roof was completed but I noticed that there was a problem with one
                section</a>.
              </td>
            </tr>
            <tr  class="show-more">
              <td>27/12/2017</td>
              <td>I sent an email to Mary Richards and asked them to get the problem fixed.</td>
            </tr>
            <tr class="show-more">
              <td>15/01/2018</td>
              <td>I hadn't had a reply so I told them I would be making a money claim.</td>
            </tr>
          <tr class="show-more">
            <td >27/12/2017</td>
            <td>I sent an email to Mary Richards and asked them to get the problem fixed.</td>
          </tr>
          <tr class="show-more">
            <td>15/01/2018</td>
            <td>I hadn't had a reply so I told them I would be making a money claim.</td>
          </tr>
          <tr >
            <td class="no-border">
              <a href="#" class="toggle">Show more</a>
              <a href="#" class="toggle" style="display: none">Show less</a>
            </td>
            <td class="no-border"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div style="padding-top: 30px;"></div>
  <!-- ROC-5498 -->
  <h3 class="heading-small">Add your timeline of events (optional)</h3>


  <form
  name="aspnetForm"
  action="defence-3"
  method="get"
  id="aspnetForm"
  autocomplete="off">
  <fieldset>
    <p>Include dates if you know them.</p>
    <table id="myTable" class="govuk-table">

      <thead class="govuk-table__head">
      <tr class="govuk-table__row">
      
        <th scope="col" class="govuk-table__header" aria-sort="ascending"> Date
  
        <span class="form-hint">For example, {{ now | date('MMMM YYYY')}} </span></th>
      
        <th scope="col" class="govuk-table__header" aria-sort="none"> What happened
  
        <span class="form-hint">For example, you might have signed a contract</span></th>
      
        <th scope="col" class="govuk-table__header " aria-sort="none">Actions
          <span class="form-hint"> </span>

        </th>
       
      </tr>
      
      </thead>
      
      <tbody class="govuk-table__body">
      
      <tr class="govuk-table__row">
      
        <td class="govuk-table__cell">  <input class="form-control timeline-column-1" type="text" id="date-form-control" name="cd-date-1" value="{{data['cd-date-1']}}" onfocus=></td>
      
        <td class="govuk-table__cell " data-sort-value="1568847600000">  <textarea style="width: 90%;" class="timeline-column-text" name="cd-timeline-1" id="timeline-1" value="{{data['cd-timeline-1']}}"  rows="2">{{data['cd-timeline-1']}}</textarea></td>
      
        <td class="govuk-table__cell " data-sort-value="59"> 
          <ol>
            <li>
            <li><button type="button" class="link" name="cmdDeleteRow">Remove this event</button></li>
          
            <br>
            <li> <button type="button" class="link" name="cmdAddRow">Insert another event</button></li>
          </ol>
      </td>
      
      </tr>
      <tr class="govuk-table__row">
      
        <td class="govuk-table__cell">  <input class="form-control " type="text" id="date-form-control" name="cd-date-2" value="{{data['cd-date-2']}}" onfocus=></td>
      
        <td class="govuk-table__cell " data-sort-value="1568847600000">  <textarea style="width: 90%;" class="timeline-column-text" name="cd-timeline-2" id="timeline-2" value="{{data['cd-timeline-2']}}"  rows="2">{{data['cd-timeline-2']}}</textarea></td>
      
        <td class="govuk-table__cell " data-sort-value="59"> <ol>
          <li><a href="#">Remove this event</a></li>
          <br>
          <li><a href="#">Insert another event</a></li>
        </ol></td>
      
      </tr>
      <tr class="govuk-table__row">
      
        <td class="govuk-table__cell">  <input class="form-control " type="text" id="date-form-control" name="cd-date-3" value="{{data['cd-date-3']}}" onfocus=></td>
      
        <td class="govuk-table__cell " data-sort-value="1568847600000">  <textarea style="width: 90%;" class="timeline-column-text" name="cd-timeline-3" id="timeline-3" value="{{data['cd-timeline-3']}}"  rows="2">{{data['cd-timeline-3']}}</textarea></td>
      
        <td class="govuk-table__cell " data-sort-value="59"> <ol>
          <li><a href="#">Remove this event</a></li>
          <br>
          <li><a href="#">Insert another event</a></li>
        </ol></td>
      
      </tr>
      <tr class="govuk-table__row">
      
        <td class="govuk-table__cell">  <input class="form-control timeline-column-1" type="text" id="date-form-control" name="cd-date-4" value="{{data['cd-date-4']}}" onfocus=></td>
      
        <td class="govuk-table__cell " data-sort-value="1568847600000">  <textarea style="width: 90%;" class="timeline-column-text" name="cd-timeline-4" id="timeline-4" value="{{data['cd-timeline-4']}}"  rows="2">{{data['cd-timeline-4']}}</textarea></td>
      
        <td class="govuk-table__cell " data-sort-value="59"> <ol>
          <li><a href="#">Remove this event</a></li>
          <br>
          <li><a href="#">Insert another event</a></li>
        </ol></td>
      
      </tr>
      
     
      
      </tbody>
      </table> 
 
  </div>
    <div class="grid-row">
    <div class="column-two-thirds" id="claim-details">
      <div id="describe-wrapper-claim-details-1" class="form-group">
        <label class="form-label-bold" for="offer">
          <h3 class="heading-small">Add any comments about their timeline (optional)</h3>
        </label>
        <textarea class="form-control form-control-3-4 form-control-medium"
        id="defence-disagree-timeline"
        rows="4"
        name="defence-disagree-timeline"
        cols="20"
        type="text"
        style="width: 95%"
        data-store="">{{data['defence-disagree-timeline']}}</textarea>
      </div>
    </div>
  </div>
    <div class="form-group">
      <input id="advert-option-next--button" type="submit" value="Save and continue" class="button"
      data-ignore-double-submit="true">
    </div>
  
</form>
</div>
</div>
{% block page_scripts %}

<script>
  $('button[name="cmdAddRow"]').on('click', function(){
   
              $curRow = $(this).closest('tr');
              $newRow = $curRow.clone(true).attr('value','');
              $('#myTable tr:last input').val('')
              $('#myTable tr:last textarea').val('')
              $newRow.addClass( "rowcolor" );
              $curRow.removeClass( "rowcolor" );
              $newRow.find("input").val("").end();
              $newRow.find("textarea").val("").end();
              console.log($newRow);
              $curRow.after($newRow);
              console.log('added');
          });
    
          $('button[name="cmdDeleteRow"]').on('click', function(){
     $(this).closest('tr').remove()
  })
    </script>
  
{% endblock %}
{% include 'prototypes/features-to-be-built/includes/contact.html' %}
</main>
{% endblock %}
